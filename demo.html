<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<script src="zepto.js"></script>
<script src="touch.js"></script>
<style>
    *{
        margin:0;padding:0;
    }
    .box{
        width:100%;height:300px;
        overflow: hidden;
    }
    ul{
        width: 500%;height:300px;cursor: pointer;
    }
    li{
        width:20%;height:100%;float:left;text-align: center;line-height:300px;
        font-size: 100px;color:#fff;list-style: none;
    }
</style>
<script>
   $(function(){
       var num=0;
       var width=$(".box").width();
       //阻止浏览器默认行为
       var box=document.querySelector(".box");
       box.onmousedown=function(e){
           e.preventDefault();
       }
       box.onmousemove=function(e){
           e.preventDefault();
       }
       //记录上一次移动的位置
       var marginL;
       //拖动开始
       touch.on("body","dragstart","ul",function(){
           $("ul").css({
               transition:"none"
           })
           marginL=parseInt($("ul").css("marginLeft"))?parseInt($("ul").css("marginLeft")):0;
           /*console.log( typeof marginLeft);*/
       })
       //拖动
       touch.on("body","drag","ul",function(e){
            $("ul").css({
                transition:"none",
                marginLeft:marginL+e.x
            })
       })
       //拖动结束
       touch.on("body","dragend","ul",function(e){
            if(Math.abs(e.x)>200){
                console.log(e.direction)
                if(e.direction=="left"){
                    num++;
                    if(num==$("li").length){
                        num=$("li").length-1;
                    }
                    $("ul").css({
                        marginLeft:-num*width,
                        transition:"margin 2s ease"
                    })
                }else if(e.direction=="right"){
                    num--;
                    if(num==-1){
                        num=0;
                    }
                    $("ul").css({
                        marginLeft:-num*width,
                        transition:"margin 2s ease"
                    })
                }
            }else{
                $("ul").css({
                    marginLeft:-num*width,
                    transition:"margin 2s ease"
                })
            }
       })
   })
</script>
<body>
<div class="box">
    <ul>
        <li style="background: paleturquoise">001</li>
        <li style="background: palevioletred">002</li>
        <li style="background: palegoldenrod">003</li>
        <li style="background: palegreen">004</li>
        <li style="background: lightseagreen">005</li>
    </ul>
</div>

</body>
</html>